{"version":3,"file":"filter.56a3b057.js","sources":["../../../resources/assets/js/filter.js"],"sourcesContent":["'use strict';\r\n\r\n(function filter() {\r\n\r\n    const $filter = document.getElementById('filter');\r\n    const $filters = document.querySelector('#aside-filters .wrapper_top');\r\n\r\n    function checkedInputsCheck() {\r\n        $filter.querySelectorAll('input[checked]')\r\n            .forEach($input => {\r\n                const $filterLabel = $input.nextElementSibling;\r\n                addFilterTag($filterLabel);\r\n            });\r\n    }\r\n\r\n    function filterReset() {\r\n        $filters.querySelectorAll('.filter-tag')\r\n            .forEach($filterTag => {\r\n                $filterTag.remove();\r\n            });\r\n    }\r\n\r\n    function addFilterTag($filterLabel) {\r\n        const $filterLabelClone = $filterLabel.cloneNode(true);\r\n        $filterLabelClone.classList.add('filter-tag');\r\n        $filterLabelClone.classList.add('flex');\r\n        const $buttonClose = document.createElement('button');\r\n        $buttonClose.type = 'button';\r\n        $buttonClose.className = 'btn btn_unset close';\r\n        $buttonClose.innerHTML = `\r\n            <svg width=\"12\" height=\"12\" class=\"svg-symbol xmark\">\r\n                <use href=\"https://wot.htmlcssjs.pro/images/sprite.svg#xmark\"></use>\r\n            </svg>\r\n        `;\r\n        $filterLabelClone.append($buttonClose);\r\n        $filters.append($filterLabelClone);\r\n    }\r\n\r\n    function removeFilterTag(inputId) {\r\n        const $filterTag = $filters.querySelector(`.filter-tag[for=${inputId}]`);\r\n        $filterTag && $filterTag.remove();\r\n    }\r\n\r\n    function filterHandler(event) {\r\n        const t = event.target;\r\n        const $filterLabel = t.closest('.filter .checkbox__label');\r\n        $filterLabel && filterLabelHandler($filterLabel);\r\n        const $buttonClose = t.closest('.filters .filter-tag .close');\r\n        $buttonClose && filterTagCloseHandler($buttonClose);\r\n    }\r\n\r\n    function filterLabelHandler($filterLabel) {\r\n        const inputId = $filterLabel.getAttribute('for');\r\n        const $input = $filterLabel.previousElementSibling;\r\n        if (!$input.checked) {\r\n            addFilterTag($filterLabel);\r\n        } else {\r\n            removeFilterTag(inputId);\r\n        }\r\n    }\r\n\r\n    function filterTagCloseHandler($buttonClose) {\r\n        const $filterTag = $buttonClose.closest('.filters .filter-tag');\r\n        const inputId = $filterTag.getAttribute('for');\r\n        const $input = document.getElementById(inputId);\r\n        $input && ($input.checked = false);\r\n        $filterTag && $filterTag.remove();\r\n    }\r\n\r\n    document.body.addEventListener('click', filterHandler, false);\r\n    $filter.addEventListener('reset', filterReset);\r\n    checkedInputsCheck();\r\n})();\r\n"],"names":[],"mappings":"AAEA,AAAC,WAAkB,CAEf,KAAM,GAAU,SAAS,eAAe,QAAQ,EAC1C,EAAW,SAAS,cAAc,6BAA6B,EAErE,YAA8B,CAC1B,EAAQ,iBAAiB,gBAAgB,EACpC,QAAQ,GAAU,CACf,KAAM,GAAe,EAAO,mBAC5B,EAAa,CAAY,CACzC,CAAa,CACR,CAED,YAAuB,CACnB,EAAS,iBAAiB,aAAa,EAClC,QAAQ,GAAc,CACnB,EAAW,OAAM,CACjC,CAAa,CACR,CAED,WAAsB,EAAc,CAChC,KAAM,GAAoB,EAAa,UAAU,EAAI,EACrD,EAAkB,UAAU,IAAI,YAAY,EAC5C,EAAkB,UAAU,IAAI,MAAM,EACtC,KAAM,GAAe,SAAS,cAAc,QAAQ,EACpD,EAAa,KAAO,SACpB,EAAa,UAAY,sBACzB,EAAa,UAAY;AAAA;AAAA;AAAA;AAAA,UAKzB,EAAkB,OAAO,CAAY,EACrC,EAAS,OAAO,CAAiB,CACpC,CAED,WAAyB,EAAS,CAC9B,KAAM,GAAa,EAAS,cAAc,mBAAmB,IAAU,EACvE,GAAc,EAAW,QAC5B,CAED,WAAuB,EAAO,CAC1B,KAAM,GAAI,EAAM,OACV,EAAe,EAAE,QAAQ,0BAA0B,EACzD,GAAgB,EAAmB,CAAY,EAC/C,KAAM,GAAe,EAAE,QAAQ,6BAA6B,EAC5D,GAAgB,EAAsB,CAAY,CACrD,CAED,WAA4B,EAAc,CACtC,KAAM,GAAU,EAAa,aAAa,KAAK,EAE/C,AAAK,AADU,EAAa,uBAChB,QAGR,EAAgB,CAAO,EAFvB,EAAa,CAAY,CAIhC,CAED,WAA+B,EAAc,CACzC,KAAM,GAAa,EAAa,QAAQ,sBAAsB,EACxD,EAAU,EAAW,aAAa,KAAK,EACvC,EAAS,SAAS,eAAe,CAAO,EAC9C,GAAW,GAAO,QAAU,IAC5B,GAAc,EAAW,QAC5B,CAED,SAAS,KAAK,iBAAiB,QAAS,EAAe,EAAK,EAC5D,EAAQ,iBAAiB,QAAS,CAAW,EAC7C,GACJ,GAAI"}